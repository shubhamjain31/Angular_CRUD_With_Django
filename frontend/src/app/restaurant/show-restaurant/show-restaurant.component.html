
<div class="container w-75 bg-light p-5 mt-4">
	<h1 class="text-center mb-4">Show Restaurant</h1>

	<ngb-alert [type]="'warning'" *ngIf="staticAlertClosed" [dismissible]="false">
		<span>
			{{error_msg}}
		</span>
      <button type="button" aria-hidden="true" class="btn-close" data-dismiss="alert" aria-label="Close" (click)="staticAlertClosed = false">
      </button>
  </ngb-alert>

	<table class="table table-dark table-striped" id="restaurant_table">
	    <thead class="text-center">
	      <tr>
	        <th scope="col">Sr No.</th>
	        <th scope="col">Name</th>
	        <th scope="col">Restaurant Address</th>
	        <th scope="col">Email</th>
	        <th scope="col">Action</th>
	      </tr>
	    </thead>
	    <tbody class="text-center text-white">
	      <tr *ngFor="let restaurant of restaurant_list; let i=index">
	          <td>{{i+1}}</td>
	          <td>{{restaurant.fields.name}}</td>
	          <td>{{restaurant.fields.address}}</td>
	          <td>{{restaurant.fields.email}}</td>
	          <td><a routerLink="/update/{{restaurant.pk}}">
	            <i class="fa fa-edit text-info" style="font-size:20px; cursor: pointer;" title="Edit Restaurant"></i></a>&nbsp; &nbsp; 
	            <i (click)="openModal(modalData, restaurant.fields.name, restaurant.pk)" class="fa fa-trash-o" style="font-size:20px;color:red; cursor: pointer;" title="Delete Restaurant"></i>&nbsp; &nbsp;
	            <i class="fa fa-download" style="font-size:20px; cursor: pointer;" (click)="download_menus(restaurant.pk, MessageDialog)" title="Download CSV"></i>&nbsp; &nbsp;
	            <i class="fa fa-picture-o text-warning" style="font-size:20px; cursor: pointer;" (click)="gallery(restaurant.pk)"title="Gallery"></i>&nbsp; &nbsp;
	            <i class="fa fa-star text-success" style="font-size:20px; cursor: pointer;" (click)="openBottomSheet()" title="Review"></i> 
	      </td>
	        </tr>
	    </tbody>
	</table>
</div>

<ng-template #modalData let-modal>
  <div class="modal-header">
    <h4 class="modal-title" id="modal-basic-title">Restaurant Delete</h4>
    <button type="button" class="close" #closebutton data-dismiss="modal" (click)="modal.dismiss('Cross click')">
      <span aria-hidden="true">Ã—</span>
    </button>
  </div>
  <div class="modal-body">
    <p><strong>Are you sure you want to delete <span class="text-primary">{{name}}</span>?</strong></p>

  </div>
  <div class="modal-footer">
    <button type="button" class="btn btn-secondary btn-sm" (click)="modal.close('Save click')">Cancel</button>
    <button type="button" class="btn btn-primary btn-sm" (click)="modal.close('Save click'); delete();">Delete</button>
  </div>
</ng-template>

<ng-template #MessageDialog>
  <h2 matDialogTitle>Detail!</h2>
  <mat-dialog-content>
    <p>No Menu</p>
  </mat-dialog-content>
  <mat-dialog-actions align="end">
    <button mat-button matDialogClose color="primary">Dismiss</button>
  </mat-dialog-actions>
</ng-template>

<ng-template #ReviewDialog>
  <h2 matDialogTitle>Detail!</h2>
  <mat-card>Simple card</mat-card>
</ng-template>